<?php/* * Plugin Name: whatnew * Plugin URI: http://www.syoninfomedia.com * Description: A widget that allows the selection and configuration of a single 250X250 Banner * Version: 1.0 * Author: ashishwd * Author URI:  http://www.syoninfomedia.com *//* * Add function to widgets_init that'll load our widget. */add_action( 'widgets_init', 'whatnew_widgets' );/* * Register widget. */function whatnew_widgets() {	register_widget( 'whatnew_Widget' );}/* * Widget class. */class whatnew_Widget extends WP_Widget {	/* ---------------------------- */	/* -------- Widget setup -------- */	/* ---------------------------- */		function whatnew_Widget() {			/* Widget settings. */		$widget_ops = array( 'classname' => 'whatnew_widget', 'description' => __('A widget that allows the display and configuration of rocketunder New.', 'framework') );		/* Create the widget */		$this->WP_Widget( 'whatnew_widget', __('What New is Insiv', 'framework'), $widget_ops, $control_ops );	}	/* ---------------------------- */	/* ------- Display Widget -------- */	/* ---------------------------- */		function widget( $args, $instance ) {		extract( $args );		/* Our variables from the widget settings. */		$title = apply_filters('widget_title', $instance['title'] );		$pcode = $instance['pcode'];		/*$purl = $instance['purl'];*/		/* Before widget (defined by themes). */		echo $before_widget;		/* Display the widget title if one was input (before and after defined by themes). */		if ( $title )			echo '<h4>'.$title.'</h4>' ;		/* Display Widget */		?>			<?php echo '<p>'.$pcode.'</p>'; ?>          			<?php /* echo ' <a href="'.$purl.'" class="NextArrow"></a>'; */ ?>				<?php		/* After widget (defined by themes). */		echo $after_widget;	}	/* ---------------------------- */	/* ------- Update Widget -------- */	/* ---------------------------- */		function update( $new_instance, $old_instance ) {		$instance = $old_instance;		/* Strip tags to remove HTML (important for text inputs). */		$instance['title'] = htmlspecialchars_decode($new_instance['title'] );				/* Stripslashes for html inputs */		$instance['pcode'] = stripslashes( $new_instance['pcode']);		/*$instance['purl'] = stripslashes( $new_instance['purl']);*/		/* No need to strip tags for.. */		return $instance;	}		/* ---------------------------- */	/* ------- Widget Settings ------- */	/* ---------------------------- */		/**	 * Displays the widget settings controls on the widget panel.	 * Make use of the get_field_id() and get_field_name() function	 * when creating your form elements. This handles the confusing stuff.	 */	 	function form( $instance ) {		/* Set up some default widget settings. */		$defaults = array(		'title' => 'What New',		'pcode' => stripslashes( 'Lorem ipsum'),				);                                /*$defaults = array(		'title' => 'What New',		'pcode' => stripslashes( 'Lorem ipsum'),		'purl' => 'http://www.google.co.in',		);*/		$instance = wp_parse_args( (array) $instance, $defaults ); ?>		<!-- Embed Code: Text Input -->          <p>			<label for="<?php echo $this->get_field_id( 'title' ); ?>"><?php _e('Title:', 'framework') ?></label>			<input class="widefat" id="<?php echo $this->get_field_id( 'title' ); ?>" name="<?php echo $this->get_field_name( 'title' ); ?>" value="<?php echo $instance['title']; ?>" />		</p>		<p>			<label for="<?php echo $this->get_field_id( 'pcode' ); ?>"><?php _e('Description', 'framework') ?></label>			<textarea style="height:200px;" class="widefat" id="<?php echo $this->get_field_id( 'pcode' ); ?>" name="<?php echo $this->get_field_name( 'pcode' ); ?>"><?php echo stripslashes(htmlspecialchars(( $instance['pcode'] ), ENT_QUOTES)); ?></textarea>		</p><!--         <p>			<label for="<?php //echo $this->get_field_id( 'purl' ); ?>"><?php //_e('URL:', 'framework') ?></label>			<input class="widefat" id="<?php //echo $this->get_field_id( 'purl' ); ?>" name="<?php //echo $this->get_field_name( 'purl' ); ?>" value="<?php //echo $instance['purl']; ?>" />		</p>-->			<?php	}}?>